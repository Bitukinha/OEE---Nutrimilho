import { ProductionData, EquipmentStatus, StopReason } from '@/types/oee';

export const productionData: ProductionData[] = [
  {
    id: '1',
    date: '2024-12-03',
    shift: 'Manhã',
    equipment: 'Linha 1 - Extrusão',
    plannedTime: 480,
    actualTime: 445,
    idealCycleTime: 2.5,
    actualCycleTime: 2.8,
    totalProduced: 9500,
    goodUnits: 9215,
    defects: 285,
    availability: 92.7,
    performance: 89.3,
    quality: 97.0,
    oee: 80.3,
  },
  {
    id: '2',
    date: '2024-12-03',
    shift: 'Manhã',
    equipment: 'Linha 2 - Empacotamento',
    plannedTime: 480,
    actualTime: 468,
    idealCycleTime: 1.8,
    actualCycleTime: 1.95,
    totalProduced: 14300,
    goodUnits: 14086,
    defects: 214,
    availability: 97.5,
    performance: 92.3,
    quality: 98.5,
    oee: 88.6,
  },
  {
    id: '3',
    date: '2024-12-03',
    shift: 'Tarde',
    equipment: 'Linha 1 - Extrusão',
    plannedTime: 480,
    actualTime: 420,
    idealCycleTime: 2.5,
    actualCycleTime: 2.9,
    totalProduced: 8600,
    goodUnits: 8256,
    defects: 344,
    availability: 87.5,
    performance: 86.2,
    quality: 96.0,
    oee: 72.4,
  },
  {
    id: '4',
    date: '2024-12-03',
    shift: 'Tarde',
    equipment: 'Linha 2 - Empacotamento',
    plannedTime: 480,
    actualTime: 455,
    idealCycleTime: 1.8,
    actualCycleTime: 2.0,
    totalProduced: 13600,
    goodUnits: 13328,
    defects: 272,
    availability: 94.8,
    performance: 90.0,
    quality: 98.0,
    oee: 83.6,
  },
  {
    id: '5',
    date: '2024-12-02',
    shift: 'Manhã',
    equipment: 'Linha 1 - Extrusão',
    plannedTime: 480,
    actualTime: 460,
    idealCycleTime: 2.5,
    actualCycleTime: 2.6,
    totalProduced: 10500,
    goodUnits: 10290,
    defects: 210,
    availability: 95.8,
    performance: 96.2,
    quality: 98.0,
    oee: 90.3,
  },
  {
    id: '6',
    date: '2024-12-02',
    shift: 'Manhã',
    equipment: 'Linha 2 - Empacotamento',
    plannedTime: 480,
    actualTime: 470,
    idealCycleTime: 1.8,
    actualCycleTime: 1.85,
    totalProduced: 15100,
    goodUnits: 14949,
    defects: 151,
    availability: 97.9,
    performance: 97.3,
    quality: 99.0,
    oee: 94.3,
  },
  {
    id: '7',
    date: '2024-12-02',
    shift: 'Tarde',
    equipment: 'Linha 1 - Extrusão',
    plannedTime: 480,
    actualTime: 430,
    idealCycleTime: 2.5,
    actualCycleTime: 2.75,
    totalProduced: 9300,
    goodUnits: 9021,
    defects: 279,
    availability: 89.6,
    performance: 90.9,
    quality: 97.0,
    oee: 79.0,
  },
  {
    id: '8',
    date: '2024-12-01',
    shift: 'Manhã',
    equipment: 'Linha 1 - Extrusão',
    plannedTime: 480,
    actualTime: 450,
    idealCycleTime: 2.5,
    actualCycleTime: 2.7,
    totalProduced: 9900,
    goodUnits: 9603,
    defects: 297,
    availability: 93.8,
    performance: 92.6,
    quality: 97.0,
    oee: 84.2,
  },
];

export const equipmentStatus: EquipmentStatus[] = [
  {
    id: '1',
    name: 'Linha 1 - Extrusão',
    status: 'running',
    currentOEE: 80.3,
    lastUpdate: '2024-12-03T10:45:00',
  },
  {
    id: '2',
    name: 'Linha 2 - Empacotamento',
    status: 'running',
    currentOEE: 88.6,
    lastUpdate: '2024-12-03T10:45:00',
  },
  {
    id: '3',
    name: 'Linha 3 - Moagem',
    status: 'maintenance',
    currentOEE: 0,
    lastUpdate: '2024-12-03T08:00:00',
  },
  {
    id: '4',
    name: 'Linha 4 - Secagem',
    status: 'running',
    currentOEE: 75.2,
    lastUpdate: '2024-12-03T10:45:00',
  },
];

export const stopReasons: StopReason[] = [
  {
    id: '1',
    reason: 'Troca de produto',
    duration: 35,
    category: 'planned',
    equipment: 'Linha 1 - Extrusão',
    timestamp: '2024-12-03T09:30:00',
  },
  {
    id: '2',
    reason: 'Manutenção preventiva',
    duration: 60,
    category: 'planned',
    equipment: 'Linha 3 - Moagem',
    timestamp: '2024-12-03T08:00:00',
  },
  {
    id: '3',
    reason: 'Falha mecânica',
    duration: 25,
    category: 'unplanned',
    equipment: 'Linha 1 - Extrusão',
    timestamp: '2024-12-03T11:15:00',
  },
  {
    id: '4',
    reason: 'Ajuste de qualidade',
    duration: 12,
    category: 'quality',
    equipment: 'Linha 2 - Empacotamento',
    timestamp: '2024-12-03T10:00:00',
  },
];

export const weeklyOEETrend = [
  { day: 'Seg', oee: 82.5, availability: 94.2, performance: 91.3, quality: 96.0 },
  { day: 'Ter', oee: 85.8, availability: 95.1, performance: 93.2, quality: 96.8 },
  { day: 'Qua', oee: 79.3, availability: 89.5, performance: 91.8, quality: 96.5 },
  { day: 'Qui', oee: 88.2, availability: 96.3, performance: 94.5, quality: 96.9 },
  { day: 'Sex', oee: 84.1, availability: 93.8, performance: 92.6, quality: 96.8 },
  { day: 'Sáb', oee: 81.7, availability: 92.4, performance: 91.2, quality: 96.9 },
  { day: 'Dom', oee: 86.4, availability: 95.6, performance: 93.4, quality: 96.8 },
];

export const calculateAverageOEE = (data: ProductionData[]): { availability: number; performance: number; quality: number; oee: number } => {
  if (data.length === 0) {
    return { availability: 0, performance: 0, quality: 0, oee: 0 };
  }
  
  const sum = data.reduce(
    (acc, item) => ({
      availability: acc.availability + item.availability,
      performance: acc.performance + item.performance,
      quality: acc.quality + item.quality,
      oee: acc.oee + item.oee,
    }),
    { availability: 0, performance: 0, quality: 0, oee: 0 }
  );

  return {
    availability: Number((sum.availability / data.length).toFixed(1)),
    performance: Number((sum.performance / data.length).toFixed(1)),
    quality: Number((sum.quality / data.length).toFixed(1)),
    oee: Number((sum.oee / data.length).toFixed(1)),
  };
};
